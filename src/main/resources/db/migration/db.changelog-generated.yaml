databaseChangeLog:
- changeSet:
    id: 1747396589212-1
    preConditions:
        - onFail: MARK_RAN
        - not:
              - tableExists:
                    tableName: account
    author: Crystal (generated)
    changes:
    - createTable:
        columns:
        - column:
            autoIncrement: true
            constraints:
              nullable: false
              primaryKey: true
              primaryKeyName: account_pkey
            name: id
            startWith: 4
            type: BIGINT
        - column:
            name: email
            type: VARCHAR(255)
        - column:
            name: first_name
            type: VARCHAR(255)
        - column:
            name: last_name
            type: VARCHAR(255)
        - column:
            name: password
            type: VARCHAR(255)
        - column:
            name: phone
            type: VARCHAR(255)
        - column:
            constraints:
              nullable: false
            name: username
            type: VARCHAR(255)
        - column:
            name: role_id
            type: BIGINT
        tableName: account
- changeSet:
    id: 1747396589212-2
    author: Crystal (generated)
    changes:
    - createTable:
        columns:
        - column:
            constraints:
              nullable: false
              primaryKey: true
              primaryKeyName: card_status_pkey
            name: id
            type: INTEGER
        - column:
            name: description
            type: VARCHAR(255)
        - column:
            constraints:
              nullable: false
            name: status
            type: VARCHAR(255)
        tableName: card_status
- changeSet:
    id: 1747396589212-3
    author: Crystal (generated)
    changes:
    - addUniqueConstraint:
        columnNames: username
        constraintName: ukgex1lmaqpg0ir5g1f5eftyaa1
        tableName: account
- changeSet:
    id: 1747396589212-4
    author: Crystal (generated)
    changes:
    - addUniqueConstraint:
        columnNames: status
        constraintName: uk3j5fgjvh6kwyd2cpkgv16f3en
        tableName: card_status
- changeSet:
    id: 1747396589212-5
    author: Crystal (generated)
    changes:
    - createSequence:
        cacheSize: 1
        cycle: false
        dataType: bigint
        incrementBy: 50
        maxValue: 9223372036854775807
        minValue: 1
        sequenceName: account_seq
        startValue: 1
- changeSet:
    id: 1747396589212-6
    author: Crystal (generated)
    changes:
    - createSequence:
        cacheSize: 1
        cycle: false
        dataType: bigint
        incrementBy: 50
        maxValue: 9223372036854775807
        minValue: 1
        sequenceName: bank_card_seq
        startValue: 1
- changeSet:
    id: 1747396589212-7
    author: Crystal (generated)
    changes:
    - createSequence:
        cacheSize: 1
        cycle: false
        dataType: bigint
        incrementBy: 50
        maxValue: 9223372036854775807
        minValue: 1
        sequenceName: card_seq
        startValue: 1
- changeSet:
    id: 1747396589212-8
    author: Crystal (generated)
    changes:
    - createSequence:
        cacheSize: 1
        cycle: false
        dataType: bigint
        incrementBy: 50
        maxValue: 9223372036854775807
        minValue: 1
        sequenceName: card_status_seq
        startValue: 1
- changeSet:
    id: 1747396589212-9
    author: Crystal (generated)
    changes:
    - createSequence:
        cacheSize: 1
        cycle: false
        dataType: bigint
        incrementBy: 50
        maxValue: 9223372036854775807
        minValue: 1
        sequenceName: role_seq
        startValue: 1
- changeSet:
    id: 1747396589212-10
    author: Crystal (generated)
    changes:
    - createTable:
        columns:
        - column:
            constraints:
              nullable: false
              primaryKey: true
              primaryKeyName: bank_card_pkey
            name: id
            type: INTEGER
        - column:
            name: balance
            type: numeric(38, 2)
        - column:
            constraints:
              nullable: false
            name: card_number
            type: VARCHAR(16)
        - column:
            name: expiry_date
            type: date
        - column:
            constraints:
              nullable: false
            name: account_id
            type: BIGINT
        - column:
            constraints:
              nullable: false
            name: status_id
            type: INTEGER
        tableName: bank_card
- changeSet:
    id: 1747396589212-11
    author: Crystal (generated)
    changes:
    - createTable:
        columns:
        - column:
            constraints:
              nullable: false
              primaryKey: true
              primaryKeyName: card_pkey
            name: id
            type: INTEGER
        - column:
            name: balance
            type: numeric(38, 2)
        - column:
            constraints:
              nullable: false
            name: card_number
            type: VARCHAR(16)
        - column:
            name: expiry_date
            type: date
        - column:
            constraints:
              nullable: false
            name: account_id
            type: BIGINT
        - column:
            constraints:
              nullable: false
            name: status_id
            type: INTEGER
        tableName: card
- changeSet:
    id: 1747396589212-12
    author: Crystal (generated)
    changes:
    - createTable:
        columns:
        - column:
            constraints:
              nullable: false
              primaryKey: true
              primaryKeyName: role_pkey
            name: id
            type: BIGINT
        - column:
            name: description
            type: VARCHAR(255)
        - column:
            name: role
            type: VARCHAR(255)
        tableName: role
- changeSet:
    id: 1747396589212-13
    author: Crystal (generated)
    changes:
    - addForeignKeyConstraint:
        baseColumnNames: role_id
        baseTableName: account
        constraintName: fkd4vb66o896tay3yy52oqxr9w0
        deferrable: false
        initiallyDeferred: false
        onDelete: NO ACTION
        onUpdate: NO ACTION
        referencedColumnNames: id
        referencedTableName: role
        validate: true
- changeSet:
    id: 1747396589212-14
    author: Crystal (generated)
    changes:
    - addForeignKeyConstraint:
        baseColumnNames: status_id
        baseTableName: bank_card
        constraintName: fkl9wwc6gxa4stddv4joclf1289
        deferrable: false
        initiallyDeferred: false
        onDelete: NO ACTION
        onUpdate: NO ACTION
        referencedColumnNames: id
        referencedTableName: card_status
        validate: true
- changeSet:
    id: 1747396589212-15
    author: Crystal (generated)
    changes:
    - addForeignKeyConstraint:
        baseColumnNames: account_id
        baseTableName: bank_card
        constraintName: fko68gelt76c6od7yl9dmqpnqc0
        deferrable: false
        initiallyDeferred: false
        onDelete: NO ACTION
        onUpdate: NO ACTION
        referencedColumnNames: id
        referencedTableName: account
        validate: true

